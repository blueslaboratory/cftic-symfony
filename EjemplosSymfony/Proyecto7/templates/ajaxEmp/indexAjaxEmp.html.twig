<html>

<head>
    <style>
        a, p{
            display: inline-block;
            width: 200px;
            text-align: center;
        }
        .oficio{
            
        }
    </style>
</head>

<body>
    <script src="/jquery-3.2.1.min.js" type="text/javascript"></script>

    <h2>EmpleadosPorOficioAjax</h2>
    <h3><strong>Seleccione un oficio de un empleado</strong></h3>
    <hr>


    {% for o in oficios %}
        <p class="oficio">{{o.oficio}}</p>
        <a href="#" OnClick="verDatos('{{o.oficio}}');">Mostrar Empleados</a> 
        <hr><br>    
    {% endfor %} 

    {# este div es donde pinto verDatos() #}
    <div id="detalleget"></div>
    <hr>

    <script>
        function verDatos(oficio) {
            // peticion AJAX
            $.ajax({
                type: "GET",
                // URL a donde quieres llamar:
                url: "{{ path('recuperarEmpOficioGet')}}",
                // parametros que queremos pasar separados por &
                // recordad que el GET tiene un tope y a partir de X caracteres lo corta
                data: "oficio=" + oficio,
                // solo entra en success cuando me ha dado la respuesta el servidor
                success:
                    // msg recoge la informacion que te ha devuelto
                    function (msg) {
                        $("#detalleget").html(msg);
                    }
            });
        }
    </script>

</body>

</html>
